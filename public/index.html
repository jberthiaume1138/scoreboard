<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
    <title>Scoreboard</title>
    <link rel="stylesheet" type="text/css" href="style/normalize.css">
    <link rel="stylesheet" type="text/css" href="style/style.css">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.0/moment.min.js"></script>

    <script type="text/javascript" src="js/app.js"></script>
</head>
<body>
    <section id="scoreboard">
    </section>

    <script id="scoreboard-template" type="text/x-handlebars-template">
        {{#each events}}
            <div class="competition" data-id="{{id}}">
                {{#each this.competitions}}
                    {{#ifCond this.status.id 1}}
                        <div class="status">
                            <time class="scheduled-datetime" datetime="{{this.status.detail}}">{{#dateTimeFormat this.status.detail 'LT'}}{{/dateTimeFormat}}</time>
                        </div>
                        <div class="inner">
                            <div class="teams">
                                {{#each this.competitors}}
                                    <div data-teamid="{{this.team.id}}">
                                        <a class="team-link" href="{{this.team.links.api.teams.href}}" target="_blank">{{this.team.abbreviation}}</a>
                                        <span class="record">({{this.team.record.summary}})</span>
                                    </div>
                                {{/each}}
                            </div>
                            <div class="pitchers">
                                <div>{{stats.awayStartingPitcher.athlete.lastName}}</div>
                                <div>{{stats.homeStartingPitcher.athlete.lastName}}</div>
                            </div>
                        </div>
                    {{else}}
                        {{#ifCond this.status.id 2}}
                            <div class="status">
                                {{this.status.detail}}
                            </div>
                            <div class="inner">
                                <div class="teams">
                                    {{#each this.competitors}}
                                        <div data-teamid="{{this.team.id}}">
                                            <a class="team-link" href="{{this.team.links.api.teams.href}}" target="_blank">{{this.team.abbreviation}}</a>
                                            <span class="record">({{this.team.record.summary}})</span>
                                        </div>
                                    {{/each}}
                                </div>
                                <div>
                                    state
                                </div>
                            </div>
                        {{else}}
                            <div class="status">
                                {{this.status.detail}}
                            </div>
                            <div class="inner">
                                <div class="teams">
                                    {{#each this.competitors}}
                                        <div data-teamid="{{this.team.id}}">
                                            <a class="team-link" href="{{this.team.links.api.teams.href}}" target="_blank">{{this.team.abbreviation}}</a>
                                        </div>
                                    {{/each}}
                                </div>
                                <div class="pitchers">
                                    W: {{./stats.winningPitcher.lastName}}
                                    L: {{./stats.losingPitcher.lastName}}
                                    S: {{./stats.savingPitcher.lastName}}
                                </div>
                            </div>
                        {{/ifCond}}
                    {{/ifCond}}
                {{/each}}
            </div>
        {{/each}}
    </script>



</body>
</html>
